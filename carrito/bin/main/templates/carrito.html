<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org">
<head> 
    <title>Carrito de la compra</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<divbody>
	<!-- <p th:if="${nombre}" th:text="|Tu nombre es ${nombre}" /> -->
	<h1>Disfruta y verdura:</h1>
	<p th:text="${errores}"></p> 
	
	<div th:unless="${finalCompra}">
    <form action="/" method="post">
		<p th:each="producto,indice : ${productos}">
			<label th:text="|${producto} (${precios[indice.index]}â‚¬)|" />
			<input type="number" name="cantidades" value="0"/>	
		</p>
		
        
        <input type="submit" name="continuar" value="Continuar" />
		<input type="submit" name="comprar" value="Terminar compra" />
		
    </form>
	
	<h2>Acumulado:</h2>
		<ul>
			<li th:each="productoYCantidad : ${productosYcantidades}" th:text="${productoYCantidad}" />
		</ul>
		<h3 th:text="|Total: ${total}" />
	</div>	
	<div th:if="${finalCompra}">
		<h2>Resumen compra:</h2>
		<ul>
			<li th:each="productoYCantidad : ${productosYcantidades}" th:text="${productoYCantidad}" />
		</ul>
	</div>
	
	
	
	<h2>Stock disponible</h2>
	<ul>
				<li th:each="stock : ${productosYstock}" th:text="|${stock.getKey()} : ${stock.getValue()} " />
			</ul>
	
</body>
</html>